<%inherit file='../base.html' />
<%! from django.shortcuts import reverse %>
<%def name="content()">
	<%
	from app.model.video import VideoType, FromType, NationalityType
	%>
	<h1>外链视频</h1>
	<button class="btn btn-info open-btn" id="open-add-video-btn" >创建</button><span>${error}</span>
	<form class="form-horizontal edit-area add-video-area" id="video-edit-area" action="" method="POST">
		
		<div class="form-group">
					<div class="col-sm-10">
					  <input type="text" name="name" class="form-control"  placeholder="视频名称">
					</div>
		</div>
		
		<div class="form-group">
					<div class="col-sm-10">
					  <input type="text" name="image" class="form-control"  placeholder="海报">
					</div>
		</div>
		
		<div class="form-group">
			<div class="col-sm-10">
				<label for="">视频类型</label>
				<select class="form-control video-select" name="video_type">
					% for video_type in VideoType:
					<option value="${video_type.value}">${video_type.label}</option>
					% endfor
				</select>
			</div>
		</div>
		
		
		<div class="form-group">
			<div class="col-sm-10">
				<label for="">视频来源</label>
				<select class="form-control video-select" name="from_type">
					% for from_type in FromType:
						% if from_type != FromType('custom'):
							<option value="${from_type.value}">${from_type.label}</option>
						% endif
					% endfor
				</select>
			</div>
		</div>
		
		
		<div class="form-group">
			<div class="col-sm-10">
				<label for="">视频国籍</label>
				<select class="form-control video-select" name="nationality_type">
					% for nationality_type in NationalityType:
						% if nationality_type != NationalityType('other'):
							<option value="${nationality_type.value}">${nationality_type.label}</option>
						% endif
					% endfor
				</select>
			</div>
		</div>
		
		<div class="form-group">
					<div class="col-sm-10">
					  <textarea name="info" class="form-control"  placeholder="简介"></textarea>
					</div>
		</div>

		<button type="submit" class="btn btn-info">添加</button>

		
	</form>
	
<table class="table">
	<thead>
		<tr>
			<th>名称</th>
			<th>海报</th>
			<th>视频类型</th>
			<th>视频来源</th>
			<th>国籍</th>
			<th>描述</th>
			<th>状态</th>
			<th>创建时间</th>
			<th>修改时间</th>
			<th>操作</th>
		</tr>
	</thead>
	<tbody>
			% for video in videos:
			<tr>
				<th>${video.name}</th>
				<th><img class="video-images" src="${video.image}" alt=""></th>
				<th>${VideoType(video.video_type).label}</th>
				<th>${FromType(video.from_type).label}</th>
				<th>${NationalityType(video.nationality_type).label}</th>
				<th><p class="info">${video.info}</p></th>
				<th>${video.status}</th>
				<th>${video.created_time}</th>
				<th>${video.update_time}</th>
				<th><a href="">编辑</a>|<a href="${reverse('video_sub', kwargs={'video_id':video.id})}">附属信息</a></th>
			</tr>
			% endfor
	</tbody>
</table>	

</%def>
	
<%def name="css()">
	<link href="/static/dashboard/css/external_video.css" rel="stylesheet" />
</%def>
	
<%def name="js()">
	<script src="/static/dashboard/js/video/external_video.js"></script>
</%def>
